{% extends "base.html" %}

{% block title %}å®Œäº† - æµ·åº•äºŒä¸‡ãƒã‚¤ãƒ«{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<div class="completion-container">
    <div class="completion-message">
        <div class="icon-large">ğŸ‰</div>
        <h1>æ“ä½œãŒå®Œäº†ã—ã¾ã—ãŸï¼</h1>
        <p>å‡¦ç†ãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸã€‚</p>
    </div>
    
    {% if time and guests %}
    <div class="completion-details">
        <h3><span class="emoji">ğŸ“‹</span>å‡¦ç†å†…å®¹</h3>
        <div class="detail-item">
            <span class="detail-label">æ™‚é–“å¸¯:</span>
            <span class="detail-value">{{ time }}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">äººæ•°:</span>
            <span class="detail-value">{{ guests }}å</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">å‡¦ç†æ—¥æ™‚:</span>
            <span class="detail-value" id="current-datetime"></span>
        </div>
    </div>
    {% endif %}
    
    <div class="actions">
        <a href="/" class="btn">
            <span class="emoji">ğŸ </span> äºˆç´„ç”»é¢ã«æˆ»ã‚‹
        </a>
        <a href="/admin" class="btn">
            <span class="emoji">âš™ï¸</span> ç®¡ç†ç”»é¢ã«æˆ»ã‚‹
        </a>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// ç¾åœ¨ã®æ—¥æ™‚ã‚’è¡¨ç¤º
const now = new Date();
const dateTimeStr = now.toLocaleDateString('ja-JP') + ' ' + now.toLocaleTimeString('ja-JP');
const dateTimeElement = document.getElementById('current-datetime');
if (dateTimeElement) {
    dateTimeElement.textContent = dateTimeStr;
}

// 5ç§’å¾Œã«è‡ªå‹•çš„ã«äºˆç´„ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
setTimeout(() => {
    window.location.href = '/';
}, 5000);
</script>
{% endblock %} 