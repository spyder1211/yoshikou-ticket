{% extends "base.html" %}

{% block title %}完了 - 海底二万マイル{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<div class="completion-container">
    <div class="completion-message">
        <div class="icon-large">🎉</div>
        <h1>操作が完了しました！</h1>
        <p>処理が正常に完了しました。</p>
    </div>
    
    {% if time and guests %}
    <div class="completion-details">
        <h3><span class="emoji">📋</span>処理内容</h3>
        <div class="detail-item">
            <span class="detail-label">時間帯:</span>
            <span class="detail-value">{{ time }}</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">人数:</span>
            <span class="detail-value">{{ guests }}名</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">処理日時:</span>
            <span class="detail-value" id="current-datetime"></span>
        </div>
    </div>
    {% endif %}
    
    <div class="actions">
        <a href="/" class="btn">
            <span class="emoji">🏠</span> 予約画面に戻る
        </a>
        <a href="/admin" class="btn">
            <span class="emoji">⚙️</span> 管理画面に戻る
        </a>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
// 現在の日時を表示
const now = new Date();
const dateTimeStr = now.toLocaleDateString('ja-JP') + ' ' + now.toLocaleTimeString('ja-JP');
const dateTimeElement = document.getElementById('current-datetime');
if (dateTimeElement) {
    dateTimeElement.textContent = dateTimeStr;
}

// 5秒後に自動的に予約画面にリダイレクト
setTimeout(() => {
    window.location.href = '/';
}, 5000);
</script>
{% endblock %} 